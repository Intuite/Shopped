<div>
    <h2 id="page-heading">
        <span>My Collections</span>
        <button [matTooltipHideDelay]="0"
                [matTooltipShowDelay]="1000"
                (click)="create()"
                aria-label="Create a new collection"
                class="float-right jh-create-entity create-recipe-tag mx-4 mb-3"
                jhiMaterialColor="accent"
                mat-mini-fab
                matTooltip="Create a new collection">
            <mat-icon>add</mat-icon>
        </button>
    </h2>

    <jhi-alert-error></jhi-alert-error>

    <jhi-alert></jhi-alert>

    <div *ngIf="requesting"
         class="w-100" fxLayout="row" fxLayoutAlign="space-around center">
        <mat-spinner diameter="50" strokeWidth="5"></mat-spinner>
    </div>

    <div *ngIf="collections && collections.length > 0">
        <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="space-evenly center">
            <div *ngFor="let collection of collections
         |slice:
         ((paginator.pageIndex)*paginator.pageSize):
         ((paginator.pageIndex+1)*paginator.pageSize)">
                <mat-card class="mat-elevation-z4 col-sm-12 mt-4">

                    <mat-card-header>
                        <mat-card-title class="collection-card-title">
                            {{ collection.name }}
                        </mat-card-title>
                        <div class="collection-card-disable-button">
                            <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
                                <mat-icon>more_vert</mat-icon>
                            </button>
                            <mat-menu #menu="matMenu">
                                <button mat-menu-item [routerLink]="['/collection', collection.id, 'view']">
                                    <mat-icon>arrow_forward</mat-icon>
                                    <span>See posts</span>
                                </button>
                                <button mat-menu-item (click)="edit(collection)">
                                    <mat-icon>create</mat-icon>
                                    <span>Edit</span>
                                </button>
                                <button mat-menu-item type="submit" (click)="delete(collection)">
                                    <mat-icon>delete</mat-icon>
                                    <span>Delete</span>
                                </button>
                            </mat-menu>
                        </div>
                    </mat-card-header>

                    <a [routerLink]="['/collection', collection.id, 'view']">
                        <div *ngIf="collection.image">
                            <div class="collection-card-picture">
                                <img [src]="'data:' + collection.imageContentType + ';base64,' + collection.image"
                                     alt="card image"/>
                            </div>
                        </div>
                        <div *ngIf="!collection.image">
                            <div class="collection-card-picture">
                                <img alt="Shopped logo" alt="Shopped Logo"
                                     src='../../../content/images/placeholder-image.png'/>
                            </div>
                        </div>
                    </a>
                    <mat-card-content>
                        <div class="recipe-card-element-right">
                            <span class="collection-card-icon-created"></span>
                            {{collection.created |  date:'dd/MM/yy HH:mm'}}
                        </div>
                    </mat-card-content>

                </mat-card>
            </div>
        </div>
        <mat-paginator #paginator [length]="totalItems"
                       [pageSize]="itemsPerPage"
                       [pageSizeOptions]="[5, 10, 25, 100]"
                       (page)="pageEvent = $event">
        </mat-paginator>
    </div>

    <div class="alert alert-warning mt-4" id="no-result"
         *ngIf="collections?.length === 0 || !collections && !requesting">
        <span>No collections found</span>
    </div>
</div>
